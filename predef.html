<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="generator" content="DocBook XSL Stylesheets V1.40">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (X11; I; Linux 2.2.7 i686) [Netscape]">
   <title>Pre-defined C/C++ Compiler Macros</title>
</head>
<body>

<center>
<h1>
Pre-defined C/C++ Compiler Macros</h1></center>

<center><table WIDTH="80%" NOSAVE >
<tr NOSAVE>
<td ALIGN=CENTER NOSAVE><b>Index</b></td>

<td ALIGN=CENTER><a href="prestd.html">Standards</a></td>

<td ALIGN=CENTER><a href="precomp.html">Compilers</a></td>

<td ALIGN=CENTER><a href="preos.html">Operating Systems</a></td>

<td ALIGN=CENTER><a href="prearch.html">Architecture</a></td>
</tr>
</table></center>

<hr>
<p>Please send updates/corrections to
<a href="mailto:breese@users.sourceforge.net" target="_top">breese@users.sourceforge.net</a>
<h2>
Table of Content</h2>

<blockquote>
<table WIDTH="90%" NOSAVE >
<tr NOSAVE>
<td NOSAVE><a href="prestd.html">Standards</a></td>

<td>Macros identifying standards (C/C++, X/OPEN, POSIX)</td>
</tr>

<tr>
<td><a href="precomp.html">Compilers</a></td>

<td>Macros identifying compilers and compiler versions.</td>
</tr>

<tr>
<td><a href="preos.html">Operating Systems</a></td>

<td>Macros identifying operating systems and operating environments.</td>
</tr>

<tr>
<td><a href="prearch.html">Architectures</a></td>

<td>Macros identifying hardware architectures.</td>
</tr>

<tr>
<td>Appendix A: <a href="defines.txt">Defines script</a></td>

<td>A Bourne shell script to print the names and values of pre-defined
macros.</td>
</tr>
</table>
</blockquote>

<h2>
Introduction</h2>
C and C++ compilers automatically defines certain macros that can be used
to check for compiler or operating system features. This is important when
writing portable software.
<p>These pages lists various pre-defined compiler macros that can be used
to identify standards, compiles, operating systems, and hardware architectures
at compile-time.
<p>For example, if we want to use a generic pointer type, we use void pointers.
However, ancient K&amp;R compilers (from the time before the first ANSI
C standard) do not support void pointers. Instead we can define our own
type:
<blockquote><tt>#if defined(__STDC__) || defined(__cplusplus) || defined(_MSC_EXTENSIONS)</tt>
<br><tt>typedef void * t_pointer;</tt>
<br><tt>#else</tt>
<br><tt>typedef char * t_pointer;</tt>
<br><tt>#endif</tt></blockquote>
Another example, Microsoft Visual C++ version 4.2 added a pragma to reduce
compilation times by only including a file once:
<blockquote><tt>#if defined(_MSC_VER) &amp;&amp; (_MSC_VER >= 1020)</tt>
<br><tt>#pragma once</tt>
<br><tt>#endif</tt></blockquote>
An often-used alternative is <a href="http://www.gnu.org/software/autoconf/">autoconf</a>,
which is a more powerful tool to examine various types of features, including
compilation options. However, autoconf is fairly Unix-centric, and requires
a Unix layer on other platforms (e.g. Cygwin on Windows).
<h2>
References</h2>

<ul>
<li>
<a href="http://petef.port5.com/c/portability.txt" target="_top"><i>Portability
Guide</i> </a>, Pete Forman</li>

<li>
<a href="http://oakroadsystems.com/tech/c-predef.htm" target="_top"><i>Identifiers
NOT To Use in C Programs</i> </a>, Stan Brown</li>

<li>
<a href="http://oakroadsystems.com/tech/cppredef.htm" target="_top"><i>Identifiers
To Avoid in C++ Programs</i> </a>, Stan Brown</li>

<li>
<a href="http://david.tribble.com/text/cdiffs.htm" target="_top"><i>Incompatibilities
Between ISO C and ISO C++</i> </a>, David R. Tribble</li>

<li>
<a href="http://www.mozilla.org/hacking/portable-cpp.html" target="_top"><i>C++
portability guide</i> </a>, Mozilla</li>

<li>
<a href="http://www.cs.umd.edu/users/cml/cstyle/portableC.html" target="_top"><i>Notes
On Writing Portable Programs In C</i> </a>, Dolenc, Lemmke, Keppel</li>

<li>
<a href="http://docs.sun.com/htmlcoll/coll.33.7/iso-8859-1/CUG/tguide.html" target="_top"><i>Chapter
7. Transitioning to ANSI/ISO C</i> </a>, C User's Guide, Sun Microsystems</li>

<li>
<a href="http://www.opengroup.org/austin/ifacetables.html" target="_top"><i>Interface
Tables</i> </a>, The Austin Common Standards Revision Group</li>
</ul>

<h2>
Contributors</h2>

<ul>
<li>
Daniel Stenberg</li>

<li>
Greg Roelofs</li>

<li>
Steven G. Johnson</li>

<li>
Wlodzimierz ABX Skiba</li>
</ul>

<hr>
<p>Copyright &copy; 2002-2003 Bj&oslash;rn Reese
<p>Permission to use, copy, modify, and distribute this document for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.
<p>THIS DOCUMENT IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTIBILITY
AND FITNESS FOR A PARTICULAR PURPOSE. THE AUTHORS AND CONTRIBUTORS ACCEPT
NO RESPONSIBILITY IN ANY CONCEIVABLE MANNER.
<p>$Id: predef.html,v 1.5 2003/06/29 09:40:21 breese Exp $
</body>
</html>
